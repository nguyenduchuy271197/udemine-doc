# Use Case: Thay đổi Mật khẩu

## Thông tin Chung

- **ID**: UC1.2.2
- **Tên Use Case**: Người dùng thay đổi mật khẩu
- **Actor Chính**: Người dùng đã đăng nhập
- **Actors Phụ**: Hệ thống email
- **Điều kiện Tiên quyết**:
  - Người dùng đã đăng nhập vào hệ thống
  - Tài khoản đang trong trạng thái hoạt động

## Mô tả

Use case này cho phép người dùng thay đổi mật khẩu tài khoản của họ trên nền tảng micro-learning, đảm bảo tính bảo mật và quyền kiểm soát tài khoản.

## Luồng Sự kiện Chính

1. Người dùng truy cập trang cài đặt tài khoản
2. Người dùng chọn tùy chọn "Thay đổi mật khẩu"
3. Hệ thống hiển thị form thay đổi mật khẩu với các trường:
   - Mật khẩu hiện tại
   - Mật khẩu mới
   - Xác nhận mật khẩu mới
4. Người dùng nhập thông tin vào form
5. Người dùng nhấn nút "Cập nhật mật khẩu"
6. Hệ thống xác thực mật khẩu hiện tại
7. Hệ thống kiểm tra tính hợp lệ của mật khẩu mới
8. Hệ thống cập nhật mật khẩu trong cơ sở dữ liệu
9. Hệ thống gửi email thông báo về việc thay đổi mật khẩu
10. Hệ thống đăng xuất khỏi các thiết bị khác
11. Hệ thống hiển thị thông báo thành công

## Luồng Sự kiện Thay thế

### A1: Mật khẩu hiện tại không chính xác (ở bước 6)

1. Hệ thống phát hiện mật khẩu hiện tại không đúng
2. Hệ thống ghi nhận số lần nhập sai
3. Hệ thống hiển thị thông báo lỗi
4. Quay lại bước 4

### A2: Mật khẩu mới không đáp ứng yêu cầu (ở bước 7)

1. Hệ thống phát hiện mật khẩu mới không đủ mạnh
2. Hệ thống hiển thị thông báo lỗi với hướng dẫn cụ thể
3. Quay lại bước 4

### A3: Xác nhận mật khẩu không khớp (ở bước 7)

1. Hệ thống phát hiện mật khẩu xác nhận không khớp
2. Hệ thống hiển thị thông báo lỗi
3. Quay lại bước 4

## Điều kiện Sau

- Mật khẩu mới được cập nhật trong hệ thống
- Email thông báo được gửi đến người dùng
- Các phiên đăng nhập khác bị hủy
- Lịch sử thay đổi mật khẩu được ghi nhận

## Yêu cầu Đặc biệt

- Thời gian xử lý < 2 giây
- Mật khẩu phải được mã hóa khi truyền tải và lưu trữ
- Email thông báo phải được gửi trong vòng 1 phút
- Hiển thị đánh giá độ mạnh của mật khẩu mới

## Business Rules

- Mật khẩu mới phải khác mật khẩu hiện tại
- Mật khẩu phải đáp ứng các yêu cầu bảo mật:
  - Tối thiểu 8 ký tự
  - Bao gồm chữ hoa, chữ thường, số và ký tự đặc biệt
  - Không chứa thông tin cá nhân dễ đoán
- Giới hạn 3 lần nhập sai mật khẩu hiện tại
- Lưu trữ lịch sử 5 mật khẩu gần nhất để tránh tái sử dụng
